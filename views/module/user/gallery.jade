.user_photo(data-bind="with: repository[M!M]")
	.photoThumbs
		a.photoPreview.fringe.addPhoto(href="/photoUpload", data-bind="style: {display: canAdd() ? 'inline-block' : '', width: width, height: height}")
			.plusPhoto
			.desc Добавить фото..
		//ko foreach: photos
		a.photoPreview.fringe(target='_blank', data-bind="attr: {href: '/p/' + cid}, css: {'pFresh': $data.fresh, 'pDis': $data.disabled, 'pDel': $data.del}")
			.photoBox
				img.photoImg(data-bind="attr: {src: sfile}, event: {load: $parent.onPreviewLoad, error: $parent.onPreviewErr}, style: {width: $parent.width, height: $parent.height}")
				.curtain
				//ko if: $data.noPublic
				i.icon-white.fringe.status(data-bind="css: {'icon-asterisk': $data.fresh, 'icon-lock': $data.disabled, 'icon-trash': $data.del}, attr: {title: $data.fresh ? 'Новая фотография' : ($data.disabled ? 'Фотография неактивна' : 'Фотография удалена')}")
				// /ko
			.photoTitle(data-bind="text: title")
		// /ko
		.photoPreview.loadingPhoto.centering_content(data-bind="style: {visibility: loadingPhoto() ? 'visible' : 'hidden', width: width, height: height}") Loading next

	.photoUploadCurtain
		.photoUploadModal.fringe(data-bind="style: {maxWidth: 4 * $root.P.window.w() / 5 + 'px'}")
			.modalTools.fringe
				span.modalCaption Upload photo
				a.off(data-bind="attr: {href: '/u/' + u.login() + '/photo'}")
					i.icon-off.icon-white
			.modalContainer(data-bind="style: {maxHeight: $root.P.window.h() - 120 + 'px'}")
			.modalFoot
				a.btn-strict.btn-strict-small(data-bind="attr: {href: '/u/' + u.login() + '/photo'}")
					i.icon-ok.icon-white
					span(data-bind="text: 'Ok'")