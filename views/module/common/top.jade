#top(data-bind="with: repository[M!M]")
	.fringe#panel
		a.appV(target="_blank", href="/history.txt", data-bind="text: 'v' + $root.P.settings.appVersion()")
		#appName.indentLogo(data-bind="text: ($root.P.settings.appName() === 'Admin' ? 'Admin - ' : '') + 'Retro photo of mankind\\'s habitat'")
		#panelTools.hide-text
			//ko if: auth.loggedIn()
			a#toUpload.labledIco.strokeAfter.iconBefore(href="/photoUpload")
				.ico
				.text(data-bind="text: $root.i18n.image_upload()")
			//ko if: $root.P.settings.appName() !== 'Admin'
			a#toAdmin.labledIco.strokeAfter.iconBefore(href="/admin", target="_blank")
				.ico
				.text(data-bind="text: $root.i18n.admin()")
			// /ko
			a#toProfile.labledIco.iconBefore(data-bind="attr:{href: '/u/'+auth.iAm.login()}")
				.ico.fringe(data-bind="style: {backgroundImage: 'url('+profileAvatar()+')'}")
				.text(data-bind="text: profile")
			// /ko
			#toRegister.labledIco.iconBefore(data-bind="style:{display: !auth.loggedIn() && registrationAllowed() ? '' : 'none'}, event:{click: function(data, evt){auth.show('reg')}}")
				.ico
				.text(data-bind="text: $root.i18n.register()")
			#toLogIn.labledIco.strokeBefore.iconAfter(data-bind="style:{display: !auth.loggedIn() ? '' : 'none'}, event:{click: function(data, evt){auth.show('login')}}")
				.text(data-bind="text: $root.i18n.login()")
				.ico
			#toLogOut.labledIco.strokeBefore.iconAfter(data-bind="style:{display: auth.loggedIn() ? '' : 'none'}, event:{click: function(data, evt){auth.doLogout()}}")
				.text(data-bind="text: $root.i18n.logout()")
				.ico
	a.fringe.indentLogo#logo(href='/')
	#appMsg.indentLogo(data-bind="css: msgCss(), style: {display: msg().length > 0 ? '' : 'none'}")
		//i.icon-warning-sign(style="margin-top: 3px; margin-right: 4px;")
		span(data-bind="text: msg()")